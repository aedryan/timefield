!function(e){e.fn.timefield=function(){function t(t,n){var a=e(this).val();a>t?(e(this).effect("highlight",{color:"rgba(255,180,180)",complete:function(){e(this).select()}},500),e(".tc-container").effect("shake",{distance:3,times:2},250),e(this).val(n)):n=e(this).val()}var n=new Date,a=n.getHours(),c=a>12?a-=12:a;e(this).append(e("<div></div>").addClass("tc-container").append(e("<input>").attr({maxlength:2,placeholder:"00",value:("0"+c).slice(-2)}).addClass("tc-hours tc-numbers")).append("<span>:</span>").append(e("<input />").attr({maxlength:2,placeholder:"00",value:("0"+n.getMinutes()).slice(-2)}).addClass("tc-minutes tc-numbers")).append("<span>:</span>").append(e("<input>").attr({maxlength:2,placeholder:"00",value:("0"+n.getSeconds()).slice(-2)}).addClass("tc-seconds tc-numbers")).append(e("<input>").attr({maxlength:2,placeholder:"AM",value:n.getHours().valueOf()>12?"PM":"AM"}).addClass("tc-ampm"))),e(".tc-container").css({border:"1px solid rgb(200,200,200)","background-color":"white","box-shadow":"inset 0 1px 2px rgba(0,0,0,.1)",padding:"1px",display:"inline-block"}),e(".tc-container input").css({border:"none",background:"none",width:"20px",padding:"0px",margin:"0px","text-align":"center","font-size":"0.8em",display:"inline-block",cursor:"default",outline:"0"}),e(".tc-ampm").css({width:"25px"}),e(".tc-AMPM").on("keydown",function(t){switch(t.keyCode){case 65:e(this).val("AM");break;case 80:e(this).val("PM")}}),e(".tc-container input").on("click",function(){e(this).select()}),e(".tc-numbers").on("keypress",function(e){var t=e.which?e.which:event.keyCode;return t>31&&(48>t||t>57)?!1:!0});var s=e(".tc-minutes").clone().val(),i=e(".tc-hours").clone().val(),o=e(".tc-seconds").clone().val();e(".tc-seconds").on("keyup",t(60,o)),e(".tc-minutes").on("keyup",t(60,s)),e(".tc-hours").on("keyup",t(12,i)),e(".tc-numbers").on("blur",function(){e(this).val(function(e,t){return t.replace(/^\d$/,"0$&")})}),e(".tc-numbers").on("focus",function(){var t=e(this).val(),n=e(".tc-container input");e(this).on("keyup",function(){e(this).val()!=t&&2==e(this).val().length&&(n[n.index(this)+1].select(),t=e(this).val())})})}}(jQuery);
